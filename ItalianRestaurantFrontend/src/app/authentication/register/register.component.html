<mat-progress-bar [style.visibility]="!processing ? 'hidden': 'visible'" color="primary"
                  mode="indeterminate"></mat-progress-bar>

<p class="p-3"></p>
<div class="container d-flex align-items-center justify-content-center">
  <div class="row row-style">
    <h1>{{'register' | translate}}</h1>
    <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'name'|translate}}</mat-label>
        <input type="text" matInput formControlName="firstName" placeholder="{{'name_example' | translate}}">
        <mat-error *ngIf="registerForm.get('firstName')?.hasError('required')">
          {{'name_toast'|translate}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'surname'|translate}}</mat-label>
        <input type="text" matInput formControlName="lastName" placeholder="{{'surname_example' | translate}}">
        <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
          {{'surname_toast'|translate}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'email'|translate}}</mat-label>
        <input type="email" matInput formControlName="email"
               placeholder="{{'email_example' | translate}}">
        <mat-error
          *ngIf="registerForm.get('email')?.hasError('email') && !registerForm.get('email')?.hasError('required')">
          {{'email'|translate}}
        </mat-error>
        <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
          {{'email_toast'|translate}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'phone_number'|translate}}</mat-label>
        <input type="text" matInput formControlName="phoneNumber" placeholder="{{'phone_number_example' | translate}}">
        <mat-error
          *ngIf="registerForm.get('phoneNumber')?.hasError('pattern') && !registerForm.get('phoneNumber')?.hasError('required')">
          {{'phone_number_error'| translate}}
        </mat-error>
        <mat-error *ngIf="registerForm.get('phoneNumber')?.hasError('required')">
          {{'phone_number_required'| translate}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'password'|translate}}</mat-label>
        <input matInput formControlName="password" [type]="hide ? 'password' : 'text'">
        <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
          <mat-label>{{'password_toast'|translate}}</mat-label>
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
          <mat-label>{{"password_length"|translate}}</mat-label>
        </mat-error>
        <mat-error *ngIf="registerForm.get('password')?.hasError('specialCharacterRequired')">
          <mat-label>{{"password_special"|translate}}</mat-label>
        </mat-error>
      </mat-form-field>
      <p class="mt-3">
        <mat-checkbox formControlName="terms" color="primary">
          I hereby accept La Dolce Vitaâ€™s
          <a href="https://www.freeprivacypolicy.com/live/dbd2432c-928e-4c7c-b533-0ca9814165e0" target="_blank">Regulation Terms of Business</a>
          and agree to the terms and conditions of this service. *
        </mat-checkbox>
      </p>

      <p>
        <mat-checkbox formControlName="newsletter" color="primary">

          I hereby consent to contact me, including sending sales and marketing information about La Dolce Vita,
          from LDV Polska S.A. with its registered office in Warsaw, by means of electronic communication
          (email, SMS), as well as agreeing to LDV Polska S.A. with its registered office in Warsaw processing my
          personal data (email address, phone number) for this purpose. The legal grounds for processing the data
          is article 6 paragraph (a) GDPR. I reserve the right to withdraw my consent at any time with no effect
          on legal compliance of the processing, which was carried out on the basis of my consent prior to it being
          withdrawn.

        </mat-checkbox>
      </p>

      <div *ngIf="error != ''" class="alert alert-danger"
           style="border-radius:20px; text-align: center;">{{'error_register'|translate}}</div>


      <br>
      <div class="text-center">
        <!-- Submit button -->
        <button type="submit" [disabled]="!registerForm.valid" class="btn btn-primary rounded-pill mb-3"
                style="background-color: #005B47; text-decoration: none; color: #FFFFFF">{{'register'|translate}}
        </button>
      </div>
    </form>

  </div>
</div>
