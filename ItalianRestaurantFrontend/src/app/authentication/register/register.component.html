<mat-progress-bar [style.visibility]="!processing ? 'hidden': 'visible'" color="primary" mode="indeterminate"></mat-progress-bar>

<p class="p-5"></p>
<div class="container d-flex align-items-center justify-content-center">
  <div class="row row-style">
    <h1>{{'register' | translate}}</h1>
    <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'name'|translate}}</mat-label>
        <input type="text" matInput formControlName="firstName" placeholder="{{'name_example' | translate}}">
        <mat-error *ngIf="registerForm.get('firstName')?.hasError('required')">
          {{'name_toast'|translate}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'surname'|translate}}</mat-label>
        <input type="text" matInput formControlName="lastName" placeholder="{{'surname_example' | translate}}">
        <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
          {{'surname_toast'|translate}}
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'email'|translate}}</mat-label>
        <input type="email" matInput formControlName="email"
               placeholder="{{'email_example' | translate}}">
        <mat-error
          *ngIf="registerForm.get('email')?.hasError('email') && !registerForm.get('email')?.hasError('required')">
          {{'email'|translate}}
        </mat-error>
        <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
          {{'email_toast'|translate}}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field" appearance="outline">
        <mat-label>{{'password'|translate}}</mat-label>
        <input matInput formControlName="password" [type]="hide ? 'password' : 'text'">
        <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
          <mat-label>{{'password_toast'|translate}}</mat-label>
        </mat-error>
      </mat-form-field>
      <br>
      <div *ngIf="error != ''" class="alert alert-danger"
           style="border-radius:20px; text-align: center;">{{'error_register'|translate}}</div>

      <br>
      <div class="text-center">
        <!-- Submit button -->
        <button type="submit" [disabled]="!registerForm.valid" class="btn btn-primary rounded-pill"
                style="background-color: #005B47; text-decoration: none; color: #FFFFFF">{{'register'|translate}}
        </button>
      </div>
    </form>

  </div>
</div>
